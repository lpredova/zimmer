<div class="container-fluid">


    <div ng-hide="dataLoaded" class="preloader">
    </div>

    <div ng-show="dataLoaded" class="col-lg-4 search-panel">
        <h1>Apartments near me</h1>

        <!--Search field-->
        <div class="container">
            <div class="row">
                <form action="" class="search-form">
                    <div class="form-group has-feedback">
                        <label for="search" class="sr-only">Search for apartments near me</label>
                        <input type="text" class="form-control"
                               name="search" id="search"
                               placeholder="Search for apartment"
                               ng-model="search.$">

                        <span class="glyphicon glyphicon-search form-control-feedback"></span>
                    </div>
                </form>
            </div>
        </div>

        <!--List of the apartments-->
        <div class="nav pre-scrollable side-apartments">
            <div class="apartment-results">

                <span ng-show="(apartments | filter:search).length == 0" class="no-results">No results !</span>

                <div class="results">
                    <div ng-repeat="apartment in apartments | filter:search" class="my-repeat-animation">
                        <div class="media panel">
                            <a class="pull-left" href="#" target="_parent">
                                <img alt="image" class="img-responsive apartment-img" src="{{apartment.picture}}"></a>
                            <div class="clearfix visible-sm"></div>

                            <div class="media-body">
                                <a href="#" target="_parent"></a>
                                <h4 class="media-heading">
                                    <a href="#" target="_parent">
                                        <h3>{{apartment.name}}</h3>
                                        <small class="pull-right">{{apartment.address}}</small>
                                    </a>
                                </h4>
                                <ul class="list-inline">
                                    <li style="list-style: none"></li>
                                    <li>
                                        <div class="phone-em">{{apartment.phone}}</div>
                                    </li>
                                    <li style="list-style: none"></li>
                                    <li>
                                        {{apartment.email}}
                                    </li>
                                    <li>
                                        <a href="/apartment/{{apartment.id}}">Not working</a>
                                        <!--<a href="/apartment">Works</a>-->
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <ui-gmap-google-map ng-if="showMap"
                        ng-show="dataLoaded" class="col-lg-8"
                        center="map.center" zoom="map.zoom" draggable="true"
                        options="options"
                        bounds="map.bounds">
        <ui-gmap-markers
                models="mapMarkers"
                coords="'self'"
                icon="'icon'"
                title="'title'"
                >

            <!--Map info-->
            <ui-gmap-windows show="show">
                <div ng-non-bindable>
                    <h1>{{title | split:';':0}}</h1>
                    <p>{{title | split:';':2}}</p>
                    <img src="{{title | split:';':1}} "> </div>
            </ui-gmap-windows>



        </ui-gmap-markers>
    </ui-gmap-google-map>
</div>
