<div class="container-fluid">


    <div ng-hide="dataLoaded" class="preloader">
    </div>

    <div ng-show="dataLoaded" class="col-lg-4">
        <h1 class="text-center side-header">
            NEAR ME
        </h1>

        <!--Search field-->
        <div class="container">
            <div class="row">
                <form action="" class="search-form">
                    <div class="form-group has-feedback">
                        <label for="search" class="sr-only">Search for apartments near me</label>
                        <input type="text" class="form-control text-center"
                               name="search" id="search"
                               placeholder="Search for apartment"
                               ng-model="search.$">

                        <span class="glyphicon glyphicon-search form-control-feedback"></span>
                    </div>
                </form>
            </div>

        </div>

        <!--List of the apartments-->
        <div class="nav pre-scrollable side-apartments">
            <div class="apartment-results">

                <span ng-show="(apartments | filter:search).length == 0" class="no-results">No results !</span>

                <div class="results">
                    <!--Apartment element-->
                    <div ng-repeat="apartment in apartments | filter:search" class="my-repeat-animation">

                        <div class="col-lg-10">
                            <a href="/apartment/{{apartment.id}}">
                                <img alt="image" class="img-responsive apartment-img" src="{{apartment.picture}}">
                            </a>
                        </div>
                        <div class="col-lg-10 text-center">
                            <a href="/apartment/{{apartment.id}}"><h2>{{apartment.name}}</h2></a>
                        </div>
                        <div class="col-lg-10">
                            <span class="icon-small fa fa-home"></span>
                            {{apartment.city}}
                        </div>
                        <div class="col-lg-10">
                            <span class="icon-small fa fa-envelope fa-text-height"></span>
                            <a href="mailto:{{apartment.email}}">{{apartment.email}}</a>
                        </div>
                        <div class="col-lg-10">
                            <span class="icon-small fa fa-phone"></span>
                            <a href="tel:{{apartment.phone}}"><em><b>{{apartment.phone}}</b></em></a>
                        </div>
                        <div class="col-lg-10">
                            <a href="/apartment/{{apartment.id}}">See more...</a>
                            <hr>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <ui-gmap-google-map ng-if="showMap"
                        ng-show="dataLoaded" class="col-lg-8"
                        center="map.center" zoom="map.zoom" draggable="true"
                        options="options"
                        bounds="map.bounds">
        <ui-gmap-markers
                models="mapMarkers"
                coords="'self'"
                icon="'icon'"
                title="'title'"
                >

            <!--Map info-->
            <ui-gmap-windows show="show">
                <div ng-non-bindable>
                    <div class="text-center">
                        <a href="/apartment/{{title | split:';':0}}"><h2>{{title | split:';':0}}</h2></a>
                    </div>
                    <span class="icon-small fa fa-phone"></span>
                    {{title | split:';':2}}

                    <a href="/apartment/{{apartment.id}}">
                        <img alt="image" class="img-responsive image-pin" src="{{title | split:';':1}}">
                    </a>
                </div>
            </ui-gmap-windows>


        </ui-gmap-markers>
    </ui-gmap-google-map>
</div>
